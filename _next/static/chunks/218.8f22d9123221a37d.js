(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{3218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(5893),o=n(7294),c=n(7676),u=n(9430),i=n(4924),s=n(3902);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){var e=a(["\n    display: flex;\n    flex-direction: row;\n     justify-content: center;\n    align-content: center;\n    padding: "," "," 0;\n    background-color: ",";\n"]);return l=function(){return e},e}function f(){var e=a(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  height: 100%;\n\n\n .page-map {\n     display: flex;\n     justify-content: flex-start;\n    width: 100vw;\n     height: 100vh;\n    }\n\n  @media (min-width: 998px) { \n\n    .page-map {\n        width: 100vw;\n        height: 93vh;\n    }\n\n    .page-map .leaflet-container {\n      z-index: 0;\n    }\n  }\n"]);return f=function(){return e},e}var d=u.ZP.header(l(),(0,i.z)(64),(0,i.z)(10),s.Z.colors.button),S=u.ZP.div(f());n(3325);const p=(0,o.createContext)(null),v=p.Provider;var y=n(5243),M=n.n(y);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E({children:e,className:t,id:n,placeholder:r,style:c,whenCreated:u,...i}){const s=(0,o.useRef)(null),a=function(e,t){const[n,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(null!==e.current&&null===n){const n=new y.Map(e.current,t);null!=t.center&&null!=t.zoom?n.setView(t.center,t.zoom):null!=t.bounds&&n.fitBounds(t.bounds,t.boundsOptions),null!=t.whenReady&&n.whenReady(t.whenReady),r(n)}}),[e,n,t]),n}(s,i),l=(0,o.useRef)(!1);(0,o.useEffect)((()=>{null!=a&&!1===l.current&&null!=u&&(l.current=!0,u(a))}),[a,u]);const[f]=(0,o.useState)({className:t,id:n,style:c}),d=(0,o.useMemo)((()=>a?{__version:1,map:a}:null),[a]),S=d?o.createElement(v,{value:d},e):r??null;return o.createElement("div",O({},f,{ref:s}),S)}n(3935);function N(e,t){return null==t?function(t,n){return(0,o.useRef)(e(t,n))}:function(n,r){const c=(0,o.useRef)(e(n,r)),u=(0,o.useRef)(n),{instance:i}=c.current;return(0,o.useEffect)((function(){u.current!==n&&(t(i,n,u.current),u.current=n)}),[i,n,r]),c}}function h(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function L(e){return function(t){const n=function(){const e=(0,o.useContext)(p);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}(),r=e(h(t,n),n);return function(e,t){const n=(0,o.useRef)(t);(0,o.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}(n.map,t.attribution),function(e,t){const n=(0,o.useRef)();(0,o.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}(r.current,t.eventHandlers),function(e,t){(0,o.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;null==(n=t.layerContainer)||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}(r.current,n),r}}const b=function(e){function t(t,n){const{instance:r}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null}return(0,o.forwardRef)(t)}(L(N((function({url:e,...t},n){return{instance:new y.TileLayer(e,h(t,n)),context:n}}),(function(e,t,n){const{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o)}))));const g=function(e,t){return function(e){function t(t,n){const{instance:r,context:c}=e(t).current;return(0,o.useImperativeHandle)(n,(()=>r)),null==t.children?null:o.createElement(v,{value:c},t.children)}return(0,o.forwardRef)(t)}(L(N(e,t)))}((function({position:e,...t},n){const r=new y.Marker(e,t);return{instance:r,context:{...n,overlayContainer:r}}}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}));var I=n(5597),T=n.n(I),j=n(1851),C=n.n(j),_={lat:-19.917299,lng:-43.934559},w=M().icon({iconUrl:T(),iconSize:[25,35],iconAnchor:[29,68],popupAnchor:[170,2]}),A=M().icon({iconUrl:C(),iconSize:[20,30],iconAnchor:[29,68],popupAnchor:[170,2]}),R=function(){var e=(0,o.useState)(_),t=e[0],n=(e[1],(0,o.useState)([])),u=n[0],i=n[1],s=(0,o.useState)([]),a=s[0],l=s[1],f=(0,o.useState)([]),p=f[0],v=f[1],y=(0,o.useState)([]),M=y[0],O=y[1],N=(0,c.ZP)("wss://zinu-passenger-ikwha.ondigitalocean.app/ws/passenger",{onOpen:function(){console.log("Connected"),L("GET_LOCATION$CAR_1"),L("GET_LOCATION$CAR_2"),L("GET_LOCATION$CAR_3"),L("GET_LOCATION$CAR_4")},onMessage:function(){if(h){var e=h.data;if(-1!==e.indexOf("CAR_1$")){var t=e.split("$");i(t)}if(-1!==e.indexOf("CAR_2$")){var n=e.split("$");l(n)}if(-1!==e.indexOf("CAR_3$")){var r=e.split("$");v(r)}if(-1!==e.indexOf("CAR_4$")){var o=e.split("$");O(o)}}},onError:function(e){console.error(e)},shouldReconnect:function(e){return!0},reconnectInterval:3e4}),h=N.lastMessage,L=N.sendMessage;return(0,r.jsxs)("div",{children:[(0,r.jsx)(d,{}),(0,r.jsx)(S,{children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"page-map",children:(0,r.jsxs)(E,{center:t,zoom:15,style:{width:"100%",height:"100%"},children:[(0,r.jsx)(b,{url:"https://api.mapbox.com/styles/v1/mapbox/light-v10/tiles/256/{z}/{x}/{y}@2x?".concat("access_token=pk.eyJ1IjoibGNzZGV2cyIsImEiOiJja3dtcHc2bXUyZWR5MnZubzcxMGNmMTgzIn0.QZAK-exntAinLz5ylt8U4Q")}),_&&(0,r.jsx)(g,{icon:A,position:[_.lat,_.lng]}),u&&u.length>0&&(0,r.jsx)(g,{icon:w,position:[u[1],u[2]]}),a&&a.length>0&&(0,r.jsx)(g,{icon:w,position:[a[1],a[2]]}),p&&p.length>0&&(0,r.jsx)(g,{icon:w,position:[p[1],p[2]]}),M&&M.length>0&&(0,r.jsx)(g,{icon:w,position:[M[1],M[2]]})]})})})})]})}},3325:function(){},7676:function(e,t,n){"use strict";var r=n(1835);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.useWebSocket}});var o=n(6548);var c=n(1581);var u=n(9448)},3682:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachListeners=void 0;var o=n(1787),c=n(1581),u=n(9885);t.attachListeners=function(e,t,n,i,s,a){var l,f,d,S=t.setLastMessage,p=t.setReadyState;return n.current.fromSocketIO&&(l=o.setUpSocketIOPing(a)),function(e,t,n){e.onmessage=function(e){t.current.onMessage&&t.current.onMessage(e),"function"===typeof t.current.filter&&!0!==t.current.filter(e)||n(e)}}(e,n,S),function(e,t,n,r){e.onopen=function(e){t.current.onOpen&&t.current.onOpen(e),r.current=0,n(c.ReadyState.OPEN)}}(e,n,p,s),f=function(e,t,n,r,o){return c.isEventSourceSupported&&e instanceof EventSource?function(){}:(u.assertIsWebSocket(e),e.onclose=function(e){var u,s;if(t.current.onClose&&t.current.onClose(e),n(c.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(e)){var a=null!==(u=t.current.reconnectAttempts)&&void 0!==u?u:c.DEFAULT_RECONNECT_LIMIT;o.current<a?i=window.setTimeout((function(){o.current++,r()}),null!==(s=t.current.reconnectInterval)&&void 0!==s?s:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(a),console.warn("Max reconnect attempts of "+a+" exceeded"))}},function(){return i&&window.clearTimeout(i)});var i}(e,n,p,i,s),d=function(e,t,n,o,u){var i;return e.onerror=function(s){var a,l;t.current.onError&&t.current.onError(s),c.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(r(r({},s),{code:1006,reason:"An error occurred with the EventSource: "+s,wasClean:!1})),n(c.ReadyState.CLOSED),e.close()),t.current.retryOnError&&(u.current<(null!==(a=t.current.reconnectAttempts)&&void 0!==a?a:c.DEFAULT_RECONNECT_LIMIT)?i=window.setTimeout((function(){u.current++,o()}),null!==(l=t.current.reconnectInterval)&&void 0!==l?l:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of "+t.current.reconnectAttempts+" exceeded")))},function(){return i&&window.clearTimeout(i)}}(e,n,p,i,s),function(){p(c.ReadyState.CLOSING),f(),d(),e.close(),l&&clearInterval(l)}}},7678:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.attachSharedListeners=void 0;var o=n(4401),c=n(1581),u=n(4480),i=n(1787);t.attachSharedListeners=function(e,t,n,s){var a;return n.current.fromSocketIO&&(a=i.setUpSocketIOPing(s)),function(e,t){e.onmessage=function(e){u.getSubscribers(t).forEach((function(t){t.optionsRef.current.onMessage&&t.optionsRef.current.onMessage(e),"function"===typeof t.optionsRef.current.filter&&!0!==t.optionsRef.current.filter(e)||t.setLastMessage(e)}))}}(e,t),function(e,t){e instanceof WebSocket&&(e.onclose=function(e){u.getSubscribers(t).forEach((function(t){t.optionsRef.current.onClose&&t.optionsRef.current.onClose(e),t.setReadyState(c.ReadyState.CLOSED)})),delete o.sharedWebSockets[t],u.getSubscribers(t).forEach((function(t){var n,r;if(t.optionsRef.current.shouldReconnect&&t.optionsRef.current.shouldReconnect(e)){var o=null!==(n=t.optionsRef.current.reconnectAttempts)&&void 0!==n?n:c.DEFAULT_RECONNECT_LIMIT;t.reconnectCount.current<o?setTimeout((function(){t.reconnectCount.current++,t.reconnect.current()}),null!==(r=t.optionsRef.current.reconnectInterval)&&void 0!==r?r:c.DEFAULT_RECONNECT_INTERVAL_MS):(t.optionsRef.current.onReconnectStop&&t.optionsRef.current.onReconnectStop(t.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of "+o+" exceeded"))}}))})}(e,t),function(e,t){e.onopen=function(e){u.getSubscribers(t).forEach((function(t){t.reconnectCount.current=0,t.optionsRef.current.onOpen&&t.optionsRef.current.onOpen(e),t.setReadyState(c.ReadyState.OPEN)}))}}(e,t),function(e,t){e.onerror=function(n){u.getSubscribers(t).forEach((function(t){t.optionsRef.current.onError&&t.optionsRef.current.onError(n),c.isEventSourceSupported&&e instanceof EventSource&&(t.optionsRef.current.onClose&&t.optionsRef.current.onClose(r(r({},n),{code:1006,reason:"An error occurred with the EventSource: "+n,wasClean:!1})),t.setReadyState(c.ReadyState.CLOSED))})),c.isEventSourceSupported&&e instanceof EventSource&&e.close()}}(e,t),function(){a&&clearInterval(a)}}},1581:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEventSourceSupported=t.isReactNative=t.ReadyState=t.UNPARSABLE_JSON_OBJECT=t.DEFAULT_RECONNECT_INTERVAL_MS=t.DEFAULT_RECONNECT_LIMIT=t.SOCKET_IO_PING_CODE=t.SOCKET_IO_PATH=t.SOCKET_IO_PING_INTERVAL=t.DEFAULT_EVENT_SOURCE_OPTIONS=t.EMPTY_EVENT_HANDLERS=t.DEFAULT_OPTIONS=void 0;t.DEFAULT_OPTIONS={},t.EMPTY_EVENT_HANDLERS={},t.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:t.EMPTY_EVENT_HANDLERS},t.SOCKET_IO_PING_INTERVAL=25e3,t.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",t.SOCKET_IO_PING_CODE="2",t.DEFAULT_RECONNECT_LIMIT=20,t.DEFAULT_RECONNECT_INTERVAL_MS=5e3,t.UNPARSABLE_JSON_OBJECT={},function(e){e[e.UNINSTANTIATED=-1]="UNINSTANTIATED",e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}));t.isReactNative="undefined"!==typeof navigator&&"ReactNative"===navigator.product,t.isEventSourceSupported=!t.isReactNative&&function(){try{return"EventSource"in globalThis}catch(e){return!1}}()},3758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOrJoinSocket=void 0;var r=n(4401),o=n(1581),c=n(3682),u=n(7678),i=n(4480);t.createOrJoinSocket=function(e,t,n,s,a,l,f,d){if(!o.isEventSourceSupported&&s.current.eventSourceOptions)throw o.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(s.current.share){var S=null;void 0===r.sharedWebSockets[t]?(r.sharedWebSockets[t]=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),e.current=r.sharedWebSockets[t],n(o.ReadyState.CONNECTING),S=u.attachSharedListeners(r.sharedWebSockets[t],t,s,d)):(e.current=r.sharedWebSockets[t],n(r.sharedWebSockets[t].readyState));var p={setLastMessage:a,setReadyState:n,optionsRef:s,reconnectCount:f,reconnect:l};return i.addSubscriber(t,p),function(e,t,n,c,u){return function(){if(i.removeSubscriber(e,t),!i.hasSubscribers(e)){try{var s=r.sharedWebSockets[e];s instanceof WebSocket&&(s.onclose=function(e){n.current.onClose&&n.current.onClose(e),c(o.ReadyState.CLOSED)}),s.close()}catch(a){}u&&u(),delete r.sharedWebSockets[e]}}}(t,p,s,n,S)}if(e.current=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),n(o.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return c.attachListeners(e.current,{setLastMessage:a,setReadyState:n},s,l.current,f,d)}},6974:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function u(e){try{s(r.next(e))}catch(t){c(t)}}function i(e){try{s(r.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,c,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(e,u)}catch(i){c=[6,i],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUrl=void 0;var c=n(1787);t.getUrl=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return"function"!==typeof e?[3,2]:[4,e()];case 1:return n=o.sent(),[3,3];case 2:n=e,o.label=3;case 3:return r=t.current.fromSocketIO?c.parseSocketIOUrl(n):n,[2,t.current.queryParams?c.appendQueryParams(r,t.current.queryParams):r]}}))}))}},4401:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedWebSockets=void 0,t.sharedWebSockets={}},4480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSubscriber=t.addSubscriber=t.hasSubscribers=t.getSubscribers=void 0;var n={},r=[];t.getSubscribers=function(e){return t.hasSubscribers(e)?Array.from(n[e]):r},t.hasSubscribers=function(e){var t;return(null===(t=n[e])||void 0===t?void 0:t.size)>0},t.addSubscriber=function(e,t){n[e]=n[e]||new Set,n[e].add(t)},t.removeSubscriber=function(e,t){n[e].delete(t)}},4387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.websocketWrapper=void 0,t.websocketWrapper=function(e,t){return new Proxy(e,{get:function(e,n){var r=e[n];return"reconnect"===n?t:"function"===typeof r?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):r},set:function(e,t,n){return/^on/.test(t)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(e[t]=n,!0)}})},t.default=t.websocketWrapper},1787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUpSocketIOPing=t.appendQueryParams=t.parseSocketIOUrl=void 0;var r=n(1581);t.parseSocketIOUrl=function(e){if(e)return(t=/^https|wss/.test(e)?"wss":"ws")+"://"+e.replace(/^(https?|wss?)(:\/\/)?/,"").replace(/\/$/,"")+r.SOCKET_IO_PATH;if(""===e){var t=/^https/.test(window.location.protocol)?"wss":"ws",n=window.location.port?":"+window.location.port:"";return t+"://"+window.location.hostname+n+r.SOCKET_IO_PATH}return e},t.appendQueryParams=function(e,t){void 0===t&&(t={});return e+(/\?([\w]+=[\w]+)/.test(e)?"&":"?")+(""+Object.entries(t).reduce((function(e,t){return e+(t[0]+"=")+t[1]+"&"}),"").slice(0,-1))},t.setUpSocketIOPing=function(e,t){void 0===t&&(t=r.SOCKET_IO_PING_INTERVAL);return setInterval((function(){return e(r.SOCKET_IO_PING_CODE)}),t)}},9448:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.useEventSource=void 0;var c=n(7294),u=n(1835),i=n(1581);t.useEventSource=function(e,t,n){void 0===t&&(t=i.DEFAULT_EVENT_SOURCE_OPTIONS),void 0===n&&(n=!0);var s=t.withCredentials,a=t.events,l=o(t,["withCredentials","events"]),f=r(r({},l),{eventSourceOptions:{withCredentials:s}}),d=c.useRef(i.EMPTY_EVENT_HANDLERS);a&&(d.current=a);var S=u.useWebSocket(e,f,n),p=S.lastMessage,v=S.readyState,y=S.getWebSocket;return c.useEffect((function(){(null===p||void 0===p?void 0:p.type)&&Object.entries(d.current).forEach((function(e){var t=e[0],n=e[1];t===p.type&&n(p)}))}),[p]),{lastEvent:p,readyState:v,getEventSource:y}}},6548:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useSocketIO=void 0;var o=n(7294),c=n(1835),u=n(1581),i={type:"empty",payload:null};t.useSocketIO=function(e,t,n){void 0===t&&(t=u.DEFAULT_OPTIONS),void 0===n&&(n=!0);var s=o.useMemo((function(){return r(r({},t),{fromSocketIO:!0})}),[]),a=c.useWebSocket(e,s,n),l=a.sendMessage,f=a.sendJsonMessage,d=a.lastMessage,S=a.readyState,p=a.getWebSocket,v=o.useMemo((function(){return function(e){if(!e||!e.data)return i;var t=e.data.match(/\[.*]/);if(!t)return i;var n=JSON.parse(t);return Array.isArray(n)&&n[1]?{type:n[0],payload:n[1]}:i}(d)}),[d]);return{sendMessage:l,sendJsonMessage:f,lastMessage:v,lastJsonMessage:v,readyState:S,getWebSocket:p}}},1835:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function u(e){try{s(r.next(e))}catch(t){c(t)}}function i(e){try{s(r.throw(e))}catch(t){c(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,i)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,c,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=t.call(e,u)}catch(i){c=[6,i],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWebSocket=void 0;var i=n(7294),s=n(1581),a=n(3758),l=n(6974),f=u(n(4387)),d=n(9885);t.useWebSocket=function(e,t,n){void 0===t&&(t=s.DEFAULT_OPTIONS),void 0===n&&(n=!0);var u=i.useState(null),S=u[0],p=u[1],v=i.useState({}),y=v[0],M=v[1],O=i.useMemo((function(){if(S)try{return JSON.parse(S.data)}catch(e){return s.UNPARSABLE_JSON_OBJECT}return null}),[S]),E=i.useRef(null),N=i.useRef(null),h=i.useRef((function(){})),L=i.useRef(0),b=i.useRef([]),g=i.useRef(null),I=i.useRef(t);I.current=t;var T=E.current&&void 0!==y[E.current]?y[E.current]:null!==e&&!0===n?s.ReadyState.CONNECTING:s.ReadyState.UNINSTANTIATED,j=t.queryParams?JSON.stringify(t.queryParams):null,C=i.useCallback((function(e,t){var n;void 0===t&&(t=!0),s.isEventSourceSupported&&N.current instanceof EventSource?console.warn("Unable to send a message from an eventSource"):(null===(n=N.current)||void 0===n?void 0:n.readyState)===s.ReadyState.OPEN?(d.assertIsWebSocket(N.current),N.current.send(e)):t&&b.current.push(e)}),[]),_=i.useCallback((function(e,t){void 0===t&&(t=!0),C(JSON.stringify(e),t)}),[C]),w=i.useCallback((function(){return!0!==I.current.share||s.isEventSourceSupported&&N.current instanceof EventSource?N.current:(null===g.current&&N.current&&(d.assertIsWebSocket(N.current),g.current=f.default(N.current,h)),g.current)}),[]);return i.useEffect((function(){if(null!==e&&!0===n){var t,u=!1,i=function(){return o(void 0,void 0,void 0,(function(){var n,o,i;return c(this,(function(c){switch(c.label){case 0:return n=E,[4,l.getUrl(e,I)];case 1:return n.current=c.sent(),o=function(e){u||p(e)},i=function(e){u||M((function(t){var n;return r(r({},t),E.current&&((n={})[E.current]=e,n))}))},t=a.createOrJoinSocket(N,E.current,i,I,o,h,L,C),[2]}}))}))};return h.current=function(){u||(g.current&&(g.current=null),null===t||void 0===t||t(),i())},i(),function(){u=!0,g.current&&(g.current=null),null===t||void 0===t||t(),p(null)}}null!==e&&!1!==n||(L.current=0,M((function(e){var t;return r(r({},e),E.current&&((t={})[E.current]=s.ReadyState.CLOSED,t))})))}),[e,n,j,C]),i.useEffect((function(){T===s.ReadyState.OPEN&&b.current.splice(0).forEach((function(e){C(e)}))}),[T]),{sendMessage:C,sendJsonMessage:_,lastMessage:S,lastJsonMessage:O,readyState:T,getWebSocket:w}}},9885:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsWebSocket=void 0,t.assertIsWebSocket=function(e){if(e instanceof WebSocket===!1)throw new Error("")}},5597:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjMuNSA3Yy4yNzYgMCAuNS4yMjQuNS41di41MTFjMCAuNzkzLS45MjYuOTg5LTEuNjE2Ljk4OWwtMS4wODYtMmgyLjIwMnptLTEuNDQxIDMuNTA2Yy42MzkgMS4xODYuOTQ2IDIuMjUyLjk0NiAzLjY2NiAwIDEuMzctLjM5NyAyLjUzMy0xLjAwNSAzLjk4MXYxLjg0N2MwIC41NTItLjQ0OCAxLTEgMWgtMS41Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMWgtMTN2MWMwIC41NTItLjQ0OCAxLTEgMWgtMS41Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMS44NDdjLS42MDgtMS40NDgtMS4wMDUtMi42MTEtMS4wMDUtMy45ODEgMC0xLjQxNC4zMDctMi40OC45NDYtMy42NjYuODI5LTEuNTM3IDEuODUxLTMuNDUzIDIuOTMtNS4yNTIuODI4LTEuMzgyIDEuMjYyLTEuNzA3IDIuMjc4LTEuODg5IDEuNTMyLS4yNzUgMi45MTgtLjM2NSA0Ljg1MS0uMzY1czMuMzE5LjA5IDQuODUxLjM2NWMxLjAxNi4xODIgMS40NS41MDcgMi4yNzggMS44ODkgMS4wNzkgMS43OTkgMi4xMDEgMy43MTUgMi45MyA1LjI1MnptLTE2LjA1OSAyLjk5NGMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNXMtMS41LjY3Mi0xLjUgMS41LjY3MiAxLjUgMS41IDEuNSAxLjUtLjY3MiAxLjUtMS41em0xMCAxYzAtLjI3Ni0uMjI0LS41LS41LS41aC03Yy0uMjc2IDAtLjUuMjI0LS41LjVzLjIyNC41LjUuNWg3Yy4yNzYgMCAuNS0uMjI0LjUtLjV6bTIuOTQxLTUuNTI3cy0uNzQtMS44MjYtMS42MzEtMy4xNDJjLS4yMDItLjI5OC0uNTE1LS41MDItLjg2OS0uNTY2LTEuNTExLS4yNzItMi44MzUtLjM1OS00LjQ0MS0uMzU5cy0yLjkzLjA4Ny00LjQ0MS4zNTljLS4zNTQuMDYzLS42NjcuMjY3LS44NjkuNTY2LS44OTEgMS4zMTUtMS42MzEgMy4xNDItMS42MzEgMy4xNDIgMS42NC4zMTMgNC4zMDkuNDk3IDYuOTQxLjQ5N3M1LjMwMS0uMTg0IDYuOTQxLS40OTd6bTIuMDU5IDQuNTI3YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41cy0xLjUuNjcyLTEuNSAxLjUuNjcyIDEuNSAxLjUgMS41IDEuNS0uNjcyIDEuNS0xLjV6bS0xOC4yOTgtNi41aC0yLjIwMmMtLjI3NiAwLS41LjIyNC0uNS41di41MTFjMCAuNzkzLjkyNi45ODkgMS42MTYuOTg5bDEuMDg2LTJ6Ii8+PC9zdmc+"},1851:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjAuODIyIDE4LjA5NmMtMy40MzktLjc5NC02LjY0LTEuNDktNS4wOS00LjQxOCA0LjcyLTguOTEyIDEuMjUxLTEzLjY3OC0zLjczMi0xMy42NzgtNS4wODIgMC04LjQ2NCA0Ljk0OS0zLjczMiAxMy42NzggMS41OTcgMi45NDUtMS43MjUgMy42NDEtNS4wOSA0LjQxOC0zLjA3My43MS0zLjE4OCAyLjIzNi0zLjE3OCA0LjkwNGwuMDA0IDFoMjMuOTlsLjAwNC0uOTY5Yy4wMTItMi42ODgtLjA5Mi00LjIyMi0zLjE3Ni00LjkzNXoiLz48L3N2Zz4="}}]);